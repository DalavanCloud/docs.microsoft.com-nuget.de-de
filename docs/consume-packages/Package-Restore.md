---
title: NuGet-Paketwiederherstellung
description: Übersicht über die Wiederherstellung von Paketen mit NuGet, von denen ein Projekt abhängig ist, die auch die Deaktivierung von Wiederherstellungsversionen sowie von eingeschränkten Versionen umfasst.
author: karann-msft
ms.author: karann
ms.date: 03/16/2018
ms.topic: conceptual
ms.openlocfilehash: da69181aebe3bebcea6acd6e15fde6b77dd33452
ms.sourcegitcommit: ffbdf147f84f8bd60495d3288dff9a5275491c17
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/13/2018
ms.locfileid: "51580297"
---
# <a name="package-restore"></a><span data-ttu-id="4993d-103">Paketwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="4993d-103">Package Restore</span></span>

<span data-ttu-id="4993d-104">Die NuGet-**Paketwiederherstellung** installiert vor dem Erstellen eines Projekts alle Abhängigkeiten, wie in der Projektdatei oder `packages.config` aufgelistet, um eine übersichtlichere Entwicklungsumgebung zu unterstützen und die Größe des Repositorys zu reduzieren.</span><span class="sxs-lookup"><span data-stu-id="4993d-104">To promote a cleaner development environment and to reduce repository size, NuGet **Package Restore** installs all a project's dependencies as listed in either the project file or `packages.config`.</span></span> <span data-ttu-id="4993d-105">Visual Studio kann Pakete automatisch wiederherstellen, wenn ein Projekt neu erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="4993d-105">Visual Studio can restore packages automatically when a project is built.</span></span> <span data-ttu-id="4993d-106">Über die Befehle `dotnet build` und `dotnet run` (.NET Core 2.0 und höher) erfolgt ebenfalls eine automatische Wiederherstellung.</span><span class="sxs-lookup"><span data-stu-id="4993d-106">The `dotnet build` and `dotnet run` commands (.NET Core 2.0+) also perform an automatic restore.</span></span> <span data-ttu-id="4993d-107">Zudem können Sie Pakete auch jederzeit über Visual Studio, `nuget restore`, `dotnet restore` und xbuild auf Mono wiederherstellen.</span><span class="sxs-lookup"><span data-stu-id="4993d-107">You can also restore packages at any time through Visual Studio, `nuget restore`, `dotnet restore`, and xbuild on Mono.</span></span>

<span data-ttu-id="4993d-108">Die Paketwiederherstellung stellt sicher, dass alle Abhängigkeiten eines Projekts verfügbar sind, ohne dass diese Pakete in der Quellcodeverwaltung gespeichert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="4993d-108">Package restore makes sure that all a project's dependencies are available without storing those packages in source control.</span></span> <span data-ttu-id="4993d-109">Informationen zur Konfiguration Ihres Repositorys zum Ausschließen von Paketbinärdateien finden Sie unter [Pakete und Quellcodeverwaltung](../consume-packages/packages-and-source-control.md).</span><span class="sxs-lookup"><span data-stu-id="4993d-109">See [Packages and Source Control](../consume-packages/packages-and-source-control.md) on how to configure your repository to exclude package binaries.</span></span>

## <a name="package-restore-overview"></a><span data-ttu-id="4993d-110">Übersicht zur Paketwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="4993d-110">Package restore overview</span></span>

<span data-ttu-id="4993d-111">Durch das Wiederherstellen von Paketen werden bei Bedarf zunächst die direkten Abhängigkeiten eines Projekts installiert, dann werden alle Abhängigkeiten dieser Pakete von dem gesamten Abhängigkeitsdiagramm installiert.</span><span class="sxs-lookup"><span data-stu-id="4993d-111">Restoring packages first installs the direct dependencies of a project as needed, then installs any dependencies of those packages throughout the entire dependency graph.</span></span>

<span data-ttu-id="4993d-112">Wenn ein Paket noch nicht installiert ist, versucht NuGet erst, das Paket aus dem [Cache](../consume-packages/managing-the-global-packages-and-cache-folders.md) abzurufen.</span><span class="sxs-lookup"><span data-stu-id="4993d-112">If a package is not already installed, NuGet first attempts to retrieve it from the [cache](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span> <span data-ttu-id="4993d-113">Wenn sich das Paket nicht im Cache befindet, versucht NuGet, das Paket von allen aktivierten Quellen herunterzuladen (Informationen finden Sie unter [Konfigurieren des NuGet-Verhaltens](Configuring-NuGet-Behavior.md). Außerdem werden Quellen in Visual Studio in einer der Liste unter **Tools > Optionen > NuGet-Paket-Manager > Paketquellen** aufgeführt.)</span><span class="sxs-lookup"><span data-stu-id="4993d-113">If the package is not in the cache, NuGet then attempts to download the package from all enabled sources (see [Configuring NuGet behavior](Configuring-NuGet-Behavior.md); sources also appear in the  **Tools > Options > NuGet Package Manager > Package Sources** list in Visual Studio).</span></span> <span data-ttu-id="4993d-114">Während der Wiederherstellung ignoriert NuGet die Reihenfolgen der Paketquellen und verwendet dabei das Paket aus einer beliebigen Quelle, die als erstes auf Anforderungen reagiert.</span><span class="sxs-lookup"><span data-stu-id="4993d-114">During restore, NuGet ignores the order of package sources, using the package from whichever source is first to respond to requests.</span></span>

> [!Note]
> <span data-ttu-id="4993d-115">NuGet zeigt erst einen Fehler an, wenn alle Quellen überprüft wurden. Erst dann kann ein Paket wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="4993d-115">NuGet does not indicate a failure to restore a package until all the sources have been checked.</span></span> <span data-ttu-id="4993d-116">Dann meldet NuGet einen Fehler nur für die letzte Quelle aus der Liste.</span><span class="sxs-lookup"><span data-stu-id="4993d-116">At that time, NuGet reports a failure for only the last source in the list.</span></span> <span data-ttu-id="4993d-117">Der Fehler deutet darauf hin, dass das Paket auch in *keiner* der anderen Quellen vorhanden ist, auch wenn für die einzelnen Quellen kein Fehler angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="4993d-117">The error implies that the package wasn't present on *any* of the other sources, even though errors are not shown for each of those sources individually.</span></span>

<span data-ttu-id="4993d-118">Die Paketwiederherstellung wird auf folgenden Wegen ausgelöst:</span><span class="sxs-lookup"><span data-stu-id="4993d-118">Package restore is triggered in the following ways:</span></span>

- <span data-ttu-id="4993d-119">**dotnet-CLI**: Verwenden Sie den Befehl [dotnet restore](/dotnet/core/tools/dotnet-restore?tabs=netcore2x), der Pakete wiederherstellt, die in der Projektdatei (siehe [PackageReference](../consume-packages/package-references-in-project-files.md)) aufgelistet sind.</span><span class="sxs-lookup"><span data-stu-id="4993d-119">**dotnet CLI**: use the [dotnet restore](/dotnet/core/tools/dotnet-restore?tabs=netcore2x) command, which restores packages listed in the project file (see [PackageReference](../consume-packages/package-references-in-project-files.md)).</span></span> <span data-ttu-id="4993d-120">In .NET Core 2.0 und höher erfolgt die Wiederherstellung automatisch mit `dotnet build` und `dotnet run`.</span><span class="sxs-lookup"><span data-stu-id="4993d-120">With .NET Core 2.0 and later, restore is done automatically with `dotnet build` and `dotnet run`.</span></span>

- <span data-ttu-id="4993d-121">**Benutzeroberfläche des Paket-Managers (Visual Studio unter Windows)**: Pakete werden automatisch wiederhergestellt, wenn Sie ein Projekt aus einer Vorlage erstellen und wenn Sie ein Projekt erstellen (gemäß der unter [Aktivieren und Deaktivieren der Paketwiederherstellung](#enabling-and-disabling-package-restore) beschriebenen Option).</span><span class="sxs-lookup"><span data-stu-id="4993d-121">**Package Manager UI (Visual Studio on Windows)**: Packages are restored automatically when creating a project from a template and when building a project (subject to the option described in [Enabling and disabling package restore](#enabling-and-disabling-package-restore)).</span></span> <span data-ttu-id="4993d-122">Die Wiederherstellung wird in NuGet 4.0 und höher auch automatisch durchgeführt, wenn Änderungen an einem Projekt vorgenommen werden, das auf dem .NET Core SDK basiert.</span><span class="sxs-lookup"><span data-stu-id="4993d-122">In NuGet 4.0+, restore also happens automatically when changes are made to a .NET Core SDK-based project.</span></span>

    <span data-ttu-id="4993d-123">Zum manuellen Wiederherstellen klicken Sie im Projektmappen-Explorer mit der rechten Maustaste auf die Projektmappe, und wählen Sie **NuGet-Pakete wiederherstellen** aus.</span><span class="sxs-lookup"><span data-stu-id="4993d-123">To restore manually, right-click the solution in Solution Explorer and select **Restore NuGet Packages**.</span></span> <span data-ttu-id="4993d-124">Wenn danach einzelne Pakete immer noch nicht ordnungsgemäß installiert sind (also im Projektmappen-Explorer ein Fehlersymbol angezeigt wird), deinstallieren Sie die betroffenen Pakete über die Benutzeroberfläche des Paket-Managers, und installieren Sie diese über die Benutzeroberfläche erneut.</span><span class="sxs-lookup"><span data-stu-id="4993d-124">If one or more individual packages are still not installed properly (meaning that Solution Explorer shows an error icon), then use the Package Manager UI to uninstall and reinstall the affected packages.</span></span> <span data-ttu-id="4993d-125">Informationen dazu finden Sie unter [Reinstalling and updating packages (Erneutes Installieren und Aktualisieren von Paketen)](../consume-packages/reinstalling-and-updating-packages.md).</span><span class="sxs-lookup"><span data-stu-id="4993d-125">See [Reinstalling and updating packages](../consume-packages/reinstalling-and-updating-packages.md)</span></span>

    <span data-ttu-id="4993d-126">Wenn die Fehlermeldungen „Dieses Projekt verweist auf mindestens ein NuGet-Paket, das auf diesem Computer fehlt.“ oder „One or more NuGet packages need to be restored but couldn't be because consent has not been granted.“ („Mindestens ein NuGet-Paket muss wiederhergestellt werden, dies wurde allerdings aufgrund der fehlenden Zustimmung verhindert.“) angezeigt werden, aktivieren Sie die automatische Wiederherstellung, indem Sie die Anweisungen unter [Aktivieren und Deaktivieren der Paketwiederherstellung](#enabling-and-disabling-package-restore) ausführen.</span><span class="sxs-lookup"><span data-stu-id="4993d-126">If you see the error "This project references NuGet package(s) that are missing on this computer" or "One or more NuGet packages need to be restored but couldn't be because consent has not been granted," turn on automatic restore by following the instructions under [Enabling and disabling package restore](#enabling-and-disabling-package-restore).</span></span> <span data-ttu-id="4993d-127">Informationen finden Sie auch unter [Problembehandlung bei der Paketwiederherstellung](Package-restore-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="4993d-127">Also see [Package restore troubleshooting](Package-restore-troubleshooting.md).</span></span>

- <span data-ttu-id="4993d-128">**NuGet-CLI**: Verwenden Sie den Befehl [nuget restore](../tools/cli-ref-restore.md), der Pakete wiederherstellt, die in der Projektdatei oder in `packages.config` aufgelistet sind.</span><span class="sxs-lookup"><span data-stu-id="4993d-128">**NuGet CLI**: use the [nuget restore](../tools/cli-ref-restore.md) command, which restores packages listed in the project file or in `packages.config`.</span></span> <span data-ttu-id="4993d-129">Sie können auch eine Projektmappendatei angeben.</span><span class="sxs-lookup"><span data-stu-id="4993d-129">You can also specify a solution file.</span></span>

- <span data-ttu-id="4993d-130">**MSBuild**: Verwenden Sie den Befehl [msbuild /t:restore](../reference/msbuild-targets.md#restore-target), der Pakete wiederherstellt, die in der Projektdatei (nur PackageReference) aufgelistet sind.</span><span class="sxs-lookup"><span data-stu-id="4993d-130">**MSBuild**: use the [msbuild /t:restore](../reference/msbuild-targets.md#restore-target) command, which restores packages packages listed in the project file (PackageReference only).</span></span> <span data-ttu-id="4993d-131">Nur in NuGet 4.x und MSBuild 15.1 und deren höheren Versionen verfügbar, die in Visual Studio 2017 enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="4993d-131">Available only in NuGet 4.x+ and MSBuild 15.1+, which are included with Visual Studio 2017.</span></span> <span data-ttu-id="4993d-132">Sowohl `nuget restore` als auch `dotnet restore` verwenden diesen Befehl für anwendbare Projekte.</span><span class="sxs-lookup"><span data-stu-id="4993d-132">`nuget restore` and `dotnet restore` both use this command for applicable projects.</span></span>

- <span data-ttu-id="4993d-133">**Visual Studio Team Services**: Fügen Sie bei der Erstellung einer Builddefinition auf Team Services dieser die Aufgabe [NuGet-Wiederherstellung](/vsts/build-release/tasks/package/nuget#restore-nuget-packages) oder [.NET Core-Wiederherstellung](/vsts/build-release/tasks/build/dotnet-core#restore-nuget-packages) hinzu, bevor Sie eine Buildaufgabe ausführen.</span><span class="sxs-lookup"><span data-stu-id="4993d-133">**Visual Studio Team Services**: When creating a build definition on Team Services, include the [NuGet restore](/vsts/build-release/tasks/package/nuget#restore-nuget-packages) or [.NET Core Restore](/vsts/build-release/tasks/build/dotnet-core#restore-nuget-packages) task in the definition before any build task.</span></span> <span data-ttu-id="4993d-134">Diese Aufgabe ist standardmäßig in einer Reihe von Buildvorlagen enthalten.</span><span class="sxs-lookup"><span data-stu-id="4993d-134">This task is included by default in a number of build templates.</span></span>

- <span data-ttu-id="4993d-135">**Team Foundation Server**: In TFS 2013 und höher werden Pakete automatisch beim Build wiederhergestellt, wenn Sie eine Team Build-Vorlage für TFS 2013 oder höher verwenden.</span><span class="sxs-lookup"><span data-stu-id="4993d-135">**Team Foundation Server**: TFS 2013 and later automatically restores packages during build, provided that you're using a Team Build Template for TFS 2013 or later.</span></span> <span data-ttu-id="4993d-136">Bei früheren Versionen von TFS können Sie einen Buildschritt hinzufügen, um eine der oben genannten Optionen für Wiederherstellungsbefehlszeilen aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="4993d-136">For earlier version of TFS, you can include a build step to invoke one of the command-line restore options above.</span></span> <span data-ttu-id="4993d-137">Optional können Sie die Buildvorlage zu TFS 2013 migrieren.</span><span class="sxs-lookup"><span data-stu-id="4993d-137">You can optionally migrate the build template to TFS 2013.</span></span> <span data-ttu-id="4993d-138">Weitere Informationen finden Sie unter [Exemplarische Vorgehensweise für die Paketwiederherstellung mit Team Foundation Build](../consume-packages/team-foundation-build.md).</span><span class="sxs-lookup"><span data-stu-id="4993d-138">For more information, see the [Walkthrough of package restore with Team Foundation Build](../consume-packages/team-foundation-build.md).</span></span>

## <a name="enabling-and-disabling-package-restore"></a><span data-ttu-id="4993d-139">Aktivieren und Deaktivieren der Paketwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="4993d-139">Enabling and disabling package restore</span></span>

<span data-ttu-id="4993d-140">Die Paketwiederherstellung ist standardmäßig in Visual Studio über **Tools > Optionen > NuGet-Paket-Manager** aktiviert:</span><span class="sxs-lookup"><span data-stu-id="4993d-140">Package restore is primarily enabled through **Tools > Options > NuGet Package Manager** in Visual Studio:</span></span>

![Überwachen der Wiederherstellungsverhalten mithilfe von Optionen des NuGet-Paket-Managers](media/Restore-01-AutoRestoreOptions.png)

- <span data-ttu-id="4993d-142">**Allow NuGet to download missing packages** (NuGet das Herunterladen fehlender Pakete erlauben): überwacht, wie im Folgenden dargestellt, jegliche Arten der Paketwiederherstellung durch die Änderung der `packageRestore/enabled`-Einstellung in der `NuGet.Config`-Datei (`%AppData%\NuGet\NuGet.Config` unter Windows, `~/.nuget/NuGet/NuGet.Config` unter Mac/Linux).</span><span class="sxs-lookup"><span data-stu-id="4993d-142">**Allow NuGet to download missing packages**: controls all forms of package restore by changing the `packageRestore/enabled` setting in the `NuGet.Config` file as shown below (`%AppData%\NuGet\NuGet.Config` on Windows, `~/.nuget/NuGet/NuGet.Config` on Mac/Linux).</span></span> <span data-ttu-id="4993d-143">In Visual Studio sorgt diese Einstellungen dafür, dass der Befehl zur **Wiederherstellung von NuGet-Paketen** im Kontextmenü der Projektmappe ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="4993d-143">In Visual Studio, this setting allows the **Restore NuGet Packages** command on the solution's context menu to work.</span></span>

    ```xml
    <configuration>
        <packageRestore>
            <!-- The 'enabled' key is True when the "Allow NuGet to download missing packages" checkbox is set.
                 Clearing the box sets this to False, disabling command-line, automatic, and MSBuild-Integrated restore. -->
            <add key="enabled" value="True" />
        </packageRestore>
    </configuration>
    ```

> [!Note]
>  <span data-ttu-id="4993d-144">Die `packageRestore/enabled`-Einstellung kann global außer Kraft gesetzt werden, indem eine Umgebungsvariable namens **EnableNuGetPackageRestore** mit einem Wert von TRUE oder FALSE festgelegt wird, bevor Visual Studio gestartet oder mit einem Build begonnen wird.</span><span class="sxs-lookup"><span data-stu-id="4993d-144">The `packageRestore/enabled` setting can be overridden globally by setting an environment variable called **EnableNuGetPackageRestore** with a value of TRUE or FALSE before launching Visual Studio or starting a build.</span></span>

- <span data-ttu-id="4993d-145">**Automatically check for missing packages during build in Visual Studio** (Automatisch auf fehlende Pakete während des Builds in Visual Studio überprüfen): überwacht die automatische Wiederherstellung, indem die Einstellung `packageRestore/automatic`, wie im Folgenden dargestellt, in der Datei `NuGet.Config` geändert wird (`%AppData%\NuGet\NuGet.Config` unter Windows, `~/.nuget/NuGet/NuGet.Config` unter Mac/Linux).</span><span class="sxs-lookup"><span data-stu-id="4993d-145">**Automatically check for missing packages during build in Visual Studio**: controls automatic restore by changing the `packageRestore/automatic` setting in the `NuGet.Config` file as shown below (`%AppData%\NuGet\NuGet.Config` on Windows, `~/.nuget/NuGet/NuGet.Config` on Mac/Linux).</span></span> <span data-ttu-id="4993d-146">Wenn diese Option festgelegt ist, werden automatisch fehlende Pakete wiederhergestellt, wenn ein Build über Visual Studio ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="4993d-146">When this option is set, running a build from Visual Studio automatically restores any missing packages.</span></span> <span data-ttu-id="4993d-147">Sie hat keine Auswirkungen auf Builds, die über die Befehlszeile unter Verwendung von MSBuild ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="4993d-147">The option does not affect builds run from the command line using MSBuild.</span></span>

    ```xml
    ...
    <configuration>
        <packageRestore>
            <!-- The 'automatic' key is set to True when the "Automatically check for missing packages during
                 build in Visual Studio" checkbox is set. Clearing the box sets this to False and disables
                 automatic restore. -->
            <add key="automatic" value="True" />
        </packageRestore>
    </configuration>
    ```

<span data-ttu-id="4993d-148">Weitere Informationen finden Sie unter [NuGet config file – packageRestore section (NuGet-Konfigurationsdatei: Abschnitt „packageRestore“)](../reference/nuget-config-file.md#packagerestore-section).</span><span class="sxs-lookup"><span data-stu-id="4993d-148">For reference, see the [NuGet config file - packageRestore section](../reference/nuget-config-file.md#packagerestore-section).</span></span>

<span data-ttu-id="4993d-149">In einigen Fällen kann es dazu kommen, dass ein Entwickler oder ein Unternehmen für alle Benutzer Pakete auf einem Computer aktivieren oder deaktivieren möchte.</span><span class="sxs-lookup"><span data-stu-id="4993d-149">In some cases, a developer or company might want to enable or disable package restore for all users on a computer.</span></span> <span data-ttu-id="4993d-150">Fügen Sie dazu die gleichen Einstellungen in die globale NuGet-Konfigurationsdatei ein, die sich in `%ProgramData%\NuGet\Config` (Windows, möglicherweise in einem bestimmten `\{IDE}\{Version}\{SKU}\`-Ordner für Visual Studio) oder `~/.local/share` (Mac/Linux) befindet.</span><span class="sxs-lookup"><span data-stu-id="4993d-150">To do this, add the same settings above to the global NuGet configuration file located in `%ProgramData%\NuGet\Config` (Windows, potentially under a specific `\{IDE}\{Version}\{SKU}\` folder for Visual Studio) or `~/.local/share` (Mac/Linux).</span></span> <span data-ttu-id="4993d-151">Einzelne Benutzer können dann nach Bedarf die Wiederherstellung auf Projektebene aktivieren.</span><span class="sxs-lookup"><span data-stu-id="4993d-151">Individual users can then selectively enable restore as needed on a project level.</span></span> <span data-ttu-id="4993d-152">Weitere Informationen zur Vorgehensweise von NuGet bei der Priorisierung von mehreren Konfigurationsdateien finden Sie unter [Konfigurieren des NuGet-Verhaltens](../consume-packages/configuring-nuget-behavior.md#how-settings-are-applied).</span><span class="sxs-lookup"><span data-stu-id="4993d-152">See [Configuring NuGet behavior](../consume-packages/configuring-nuget-behavior.md#how-settings-are-applied) for exact details on how NuGet prioritizes multiple config files.</span></span>

> [!Important]
> <span data-ttu-id="4993d-153">Sie müssen Visual Studio neu starten, wenn Sie die `packageRestore`-Einstellungen direkt in `nuget.config` bearbeiten, damit in dem Dialogfeld „Optionen“ die richtigen Werte angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="4993d-153">If you edit the `packageRestore` settings directly in `nuget.config`, restart Visual Studio so that the options dialog box shows the current values.</span></span>

## <a name="constraining-package-versions-with-restore"></a><span data-ttu-id="4993d-154">Einschränken der Paketversionen mit der Wiederherstellung</span><span class="sxs-lookup"><span data-stu-id="4993d-154">Constraining package versions with restore</span></span>

<span data-ttu-id="4993d-155">Wenn Pakete durch eine beliebige Methode wiederhergestellt werden, berücksichtigt es alle Einschränkungen, die in `packages.config` oder der Projektdatei angegeben sind:</span><span class="sxs-lookup"><span data-stu-id="4993d-155">When restoring packages through any method, NuGet honors any constraints specified in `packages.config` or the project file:</span></span>

- <span data-ttu-id="4993d-156">`packages.config`: Gibt einen Versionsbereich in der `allowedVersion`-Eigenschaft der Abhängigkeit an.</span><span class="sxs-lookup"><span data-stu-id="4993d-156">`packages.config`: Specify a version range in the `allowedVersion` property of the dependency.</span></span> <span data-ttu-id="4993d-157">Informationen dazu finden Sie unter [Neuinstallieren und Aktualisieren von Paketen](../consume-packages/reinstalling-and-updating-packages.md#constraining-upgrade-versions).</span><span class="sxs-lookup"><span data-stu-id="4993d-157">See [Reinstalling and updating packages](../consume-packages/reinstalling-and-updating-packages.md#constraining-upgrade-versions).</span></span> <span data-ttu-id="4993d-158">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="4993d-158">For example:</span></span>

    ```xml
    <package id="Newtonsoft.json" version="6.0.4" allowedVersions="[6,7)" />
    ```

- <span data-ttu-id="4993d-159">Projektdatei (PackageReference): Gibt einen Versionsbereich zusammen mit der Versionsnummer der Abhängigkeit an.</span><span class="sxs-lookup"><span data-stu-id="4993d-159">Project file (PackageReference): Specify a version range directly with the dependency's version number.</span></span> <span data-ttu-id="4993d-160">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="4993d-160">For example:</span></span>

    ```xml
    <PackageReference Include="Newtonsoft.json" Version="[6, 7)" />
    ```

<span data-ttu-id="4993d-161">Verwenden Sie in jedem Fall die unter [Paketversionsverwaltung](../reference/package-versioning.md) beschriebene Notation.</span><span class="sxs-lookup"><span data-stu-id="4993d-161">In all cases, use the notation described in [Package versioning](../reference/package-versioning.md).</span></span>

## <a name="forcing-restore-from-package-sources"></a><span data-ttu-id="4993d-162">Erzwingen der Wiederherstellung aus Paketquellen</span><span class="sxs-lookup"><span data-stu-id="4993d-162">Forcing restore from package sources</span></span>

<span data-ttu-id="4993d-163">Standardmäßig werden für NuGet-Wiederherstellungsvorgänge Pakete aus den Ordnern *global-packages* und *http-cache* verwendet, die unter [Verwalten der globalen Paketordner und Cacheordner](managing-the-global-packages-and-cache-folders.md) beschrieben sind.</span><span class="sxs-lookup"><span data-stu-id="4993d-163">By default, NuGet restore operations use packages from the *global-packages* and *http-cache* folders, which are described on [Managing the global packages and cache folders](managing-the-global-packages-and-cache-folders.md).</span></span>

<span data-ttu-id="4993d-164">Um die Verwendung des Ordners *global-packages* zu vermeiden, gehen Sie wie folgt vor:</span><span class="sxs-lookup"><span data-stu-id="4993d-164">To avoid using the *global-packages* folder, do one of the following:</span></span>

- <span data-ttu-id="4993d-165">Löschen des Ordners mit `nuget locals global-packages -clear` oder `dotnet nuget locals global-packages --clear`</span><span class="sxs-lookup"><span data-stu-id="4993d-165">Clear the folder using `nuget locals global-packages -clear` or `dotnet nuget locals global-packages --clear`</span></span>
- <span data-ttu-id="4993d-166">Ändern Sie vorübergehend den Speicherort des Ordners *global-packages* vor der Wiederherstellung mit einer der folgenden Methoden:</span><span class="sxs-lookup"><span data-stu-id="4993d-166">Temporarily change the location of the *global-packages* folder before the restore operation using one of the following methods:</span></span>
  - <span data-ttu-id="4993d-167">Legen Sie die Umgebungsvariable NUGET_PACKAGES auf einen anderen Ordner fest.</span><span class="sxs-lookup"><span data-stu-id="4993d-167">Set the NUGET_PACKAGES environment variable to a different folder.</span></span>
  - <span data-ttu-id="4993d-168">Erstellen Sie eine `NuGet.Config`-Datei, die `globalPackagesFolder` (bei Verwendung von PackageReference) oder `repositoryPath` (bei Verwendung von `packages.config`) auf einen anderen Ordner festlegt (siehe [Konfigurationseinstellungen](../reference/nuget-config-file.md#config-section)).</span><span class="sxs-lookup"><span data-stu-id="4993d-168">Create a `NuGet.Config` file that sets `globalPackagesFolder` (if using PackageReference) or `repositoryPath` (if using `packages.config`) to a different folder (see [configuration settings](../reference/nuget-config-file.md#config-section)</span></span>
  - <span data-ttu-id="4993d-169">Nur MSBuild: Geben Sie einen anderen Ordner mit der Eigenschaft `RestorePackagesPath` an.</span><span class="sxs-lookup"><span data-stu-id="4993d-169">MSBuild only: specify a different folder with the `RestorePackagesPath` property.</span></span>

<span data-ttu-id="4993d-170">Um die Verwendung des Caches für HTTP-Quellen zu vermeiden, gehen Sie wie folgt vor:</span><span class="sxs-lookup"><span data-stu-id="4993d-170">To avoid using the cache for HTTP sources, do one of the following:</span></span>

- <span data-ttu-id="4993d-171">Verwenden Sie die Option `-NoCache` mit `nuget restore` oder die Option `--no-cache` mit `dotnet restore`.</span><span class="sxs-lookup"><span data-stu-id="4993d-171">Use the `-NoCache` option with `nuget restore` or the `--no-cache` option with `dotnet restore`.</span></span> <span data-ttu-id="4993d-172">Diese Optionen haben keinen Einfluss auf die Wiederherstellungsvorgänge über die Visual Studio-Paket-Manager-Benutzeroberfläche oder -Konsole.</span><span class="sxs-lookup"><span data-stu-id="4993d-172">These options do not affect restore operations through the Visual Studio Package Manager UI or Console.</span></span>
- <span data-ttu-id="4993d-173">Bereinigen Sie den Cache mit `nuget locals http-cache -clear` oder `dotnet nuget locals http-cache --clear`.</span><span class="sxs-lookup"><span data-stu-id="4993d-173">Clear the cache using `nuget locals http-cache -clear` or `dotnet nuget locals http-cache --clear`.</span></span>
- <span data-ttu-id="4993d-174">Legen Sie die Umgebungsvariable NUGET_HTTP_CACHE_PATH vorübergehend auf einen anderen Ordner fest.</span><span class="sxs-lookup"><span data-stu-id="4993d-174">Temporarily set of the NUGET_HTTP_CACHE_PATH environment variable to a different folder.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="4993d-175">Problembehandlung</span><span class="sxs-lookup"><span data-stu-id="4993d-175">Troubleshooting</span></span>

<span data-ttu-id="4993d-176">Informationen zur Problembehandlung finden Sie unter [Problembehandlung bei der Paketwiederherstellung](package-restore-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="4993d-176">See [Troubleshooting package restore](package-restore-troubleshooting.md).</span></span>
