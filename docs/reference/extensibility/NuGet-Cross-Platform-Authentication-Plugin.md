---
title: NuGet cross Platform-Authentifizierung-Plug-in
description: NuGet cross Platform-Authentifizierung-Plug-Ins für NuGet.exe "," dotnet.exe "," msbuild.exe "und" Visual Studio
author: nkolev92
ms.author: nikolev
manager: rrelyea
ms.date: 07/01/2018
ms.topic: conceptual
ms.openlocfilehash: 02db20e72f67463fffc45f3cba891ae670d67067
ms.sourcegitcommit: 8d5121af528e68789485405e24e2100fda2868d6
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/23/2018
ms.locfileid: "42794159"
---
# <a name="nuget-cross-platform-authentication-plugin"></a><span data-ttu-id="ff7f9-103">NuGet cross Platform-Authentifizierung-Plug-in</span><span class="sxs-lookup"><span data-stu-id="ff7f9-103">NuGet cross platform authentication plugin</span></span>

<span data-ttu-id="ff7f9-104">In Version 4.8 und höher, alle NuGet-Clients (NuGet.exe, Visual Studio "," dotnet.exe "und" MSBuild.exe) können eine Authentifizierung-Plug-in, baut auf den [NuGet cross-Platform-Plug-Ins](NuGet-Cross-Platform-Plugins.md) Modell.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-104">In version 4.8+, all NuGet clients (NuGet.exe, Visual Studio, dotnet.exe and MSBuild.exe) can use an authentication plugin built on top of the [NuGet cross platform plugins](NuGet-Cross-Platform-Plugins.md) model.</span></span>

## <a name="authentication-in-dotnetexe"></a><span data-ttu-id="ff7f9-105">Authentifizierung in dotnet.exe</span><span class="sxs-lookup"><span data-stu-id="ff7f9-105">Authentication in dotnet.exe</span></span>

<span data-ttu-id="ff7f9-106">Visual Studio und NuGet.exe sind standardmäßig interaktive.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-106">Visual Studio and NuGet.exe are by default interactive.</span></span> <span data-ttu-id="ff7f9-107">NuGet.exe enthält einen Schalter zum vereinfachen [nicht interaktiven](../../tools/nuget-exe-CLI-Reference.md).</span><span class="sxs-lookup"><span data-stu-id="ff7f9-107">NuGet.exe contains a switch to make it [non interactive](../../tools/nuget-exe-CLI-Reference.md).</span></span>
<span data-ttu-id="ff7f9-108">Außerdem wird der Benutzer für die Eingabe von die NuGet.exe- und Visual Studio-Plug-Ins aufgefordert.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-108">Additionally the NuGet.exe and Visual Studio plugins prompt the user for input.</span></span>
<span data-ttu-id="ff7f9-109">In dotnet.exe besteht keine Eingabeaufforderung, und der Standardwert ist nicht interaktiv.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-109">In dotnet.exe there is no prompting and the default is non interactive.</span></span>

<span data-ttu-id="ff7f9-110">Der Authentifizierungsmechanismus in dotnet.exe ist Gerät Flow.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-110">The authentication mechanism in dotnet.exe is device flow.</span></span> <span data-ttu-id="ff7f9-111">Bei der Wiederherstellung oder fügen Sie interaktiv, Paket-Vorgang ausgeführt wird, die blockiert und die Anweisungen für den Benutzer an, wie auf vollständige erfolgreiche Authentifizierung in der Befehlszeile erfolgt, hinzu.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-111">When the restore or add package operation is run interactively, the operation blocks and instructions to the user how to complete the authentications will be provided on the command line.</span></span>
<span data-ttu-id="ff7f9-112">Wenn der Benutzer die Authentifizierung abgeschlossen ist, wird der Vorgang fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-112">When the user completes the authentication the operation will continue.</span></span>

<span data-ttu-id="ff7f9-113">Um den Vorgang interaktiv gestalten, sollten eine übergeben `--interactive`.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-113">To make the operation interactive, one should pass `--interactive`.</span></span>
<span data-ttu-id="ff7f9-114">Derzeit nur den expliziten `dotnet restore` und `dotnet add package` Befehle eine interaktive Switches unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-114">Currently only the explicit `dotnet restore` and `dotnet add package` commands support an interactive switch.</span></span>
<span data-ttu-id="ff7f9-115">Auf nicht interaktive gewechselt ist `dotnet build` und `dotnet publish`.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-115">There is no interactive switch on `dotnet build` and `dotnet publish`.</span></span>

## <a name="authentication-in-msbuild"></a><span data-ttu-id="ff7f9-116">Authentifizierung in MSBuild</span><span class="sxs-lookup"><span data-stu-id="ff7f9-116">Authentication in MSBuild</span></span>

<span data-ttu-id="ff7f9-117">Ähnlich wie dotnet.exe MSBuild.exe ist, wird standardmäßig nicht interaktiv der MSBuild.exe-Authentifizierungsmechanismus Gerät Flow ist.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-117">Similar to dotnet.exe, MSBuild.exe is by default non interactive the MSBuild.exe authentication mechanism is device flow.</span></span>
<span data-ttu-id="ff7f9-118">Um die Wiederherstellung zum Anhalten und warten Sie, für die Authentifizierung zu ermöglichen, rufen Sie die Wiederherstellung mit `msbuild /t:restore /p:NuGetInteractive="true"`.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-118">To allow the restore to pause and wait for authentication, call restore with `msbuild /t:restore /p:NuGetInteractive="true"`.</span></span>

## <a name="creating-a-cross-platform-authentication-plugin"></a><span data-ttu-id="ff7f9-119">Erstellen eine plattformübergreifende Authentifizierung-Plug-in</span><span class="sxs-lookup"><span data-stu-id="ff7f9-119">Creating a cross platform authentication plugin</span></span>

<span data-ttu-id="ff7f9-120">Eine beispielimplementierung finden Sie im [MSCredProvider-Plug-Ins](https://github.com/Microsoft/mscredprovider).</span><span class="sxs-lookup"><span data-stu-id="ff7f9-120">A sample implementation can be found in [MSCredProvider plugin](https://github.com/Microsoft/mscredprovider).</span></span>

<span data-ttu-id="ff7f9-121">Es ist sehr wichtig, dass die Plug-Ins die Nutzungsweise der NuGet-Clienttools sicherheitsanforderungen entspricht.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-121">It's very important that the plugins conforms to the security requirements set forth by the NuGet client tools.</span></span>
<span data-ttu-id="ff7f9-122">Die mindestens erforderliche Version für ein Plug-in eine Authentifizierung-Plug-Ins werden *2.0.0*.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-122">The minimum required version for a plugin to be an authentication plugin is *2.0.0*.</span></span>
<span data-ttu-id="ff7f9-123">NuGet führt den Handshake mit den-Plug-Ins und die Abfrage für die Ansprüche unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-123">NuGet will perform the handshake with the plugin and query for the supported operation claims.</span></span>
<span data-ttu-id="ff7f9-124">Finden Sie in der NuGet cross-Platform-Plug-Ins [Protokoll Nachrichten](NuGet-Cross-Platform-Plugins.md#protocol-messages-index) um mehr über die Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-124">Please refer to the NuGet cross platform plugin [protocol messages](NuGet-Cross-Platform-Plugins.md#protocol-messages-index) for more details about the specific messages.</span></span>

<span data-ttu-id="ff7f9-125">NuGet wird die Protokollebene und Bereitstellen von Proxyinformationen des Plug-Ins, falls zutreffend.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-125">NuGet will set the log level and provide proxy information to the plugin when applicable.</span></span>
<span data-ttu-id="ff7f9-126">Anmelden des NuGet-Pakets ist Konsole nachdem NuGet die Protokollebene auf das Plug-in festgelegt hat nur akzeptabel.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-126">Logging to the NuGet console is only acceptable after NuGet has set the log level to the plugin.</span></span>

- <span data-ttu-id="ff7f9-127">Verhalten der .NET Framework-Plug-in-Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="ff7f9-127">.NET Framework plugin authentication behavior</span></span>

<span data-ttu-id="ff7f9-128">In .NET Framework sind die Plug-Ins zulässig, einen Benutzer zur Eingabe auf, im Formular eines Dialogfelds aufgefordert.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-128">In .NET Framework, the plugins are allowed to prompt a user for input, in the form of a dialog.</span></span>

- <span data-ttu-id="ff7f9-129">.NET Core-Plug-in-Benutzerauthentifizierung</span><span class="sxs-lookup"><span data-stu-id="ff7f9-129">.NET Core plugin authentication behavior</span></span>

<span data-ttu-id="ff7f9-130">In .NET Core kann ein Dialogfeld angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-130">In .NET Core, a dialog cannot be shown.</span></span> <span data-ttu-id="ff7f9-131">Die Plug-Ins sollte Gerät Flow verwenden, um authentifizieren zu können.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-131">The plugins should use device flow to authenticate.</span></span>
<span data-ttu-id="ff7f9-132">Das Plug-in kann Meldungen in NuGet mit Anweisungen für den Benutzer senden.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-132">The plugin can send log messages to NuGet with instructions to the user.</span></span>
<span data-ttu-id="ff7f9-133">Beachten Sie, dass die Protokollierung verfügbar ist, nachdem die Protokollebene des Plug-Ins festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-133">Note that logging is available after the log level has been set to the plugin.</span></span>
<span data-ttu-id="ff7f9-134">NuGet dauert keine interaktive Eingabe von der Befehlszeile aus.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-134">NuGet will not take any interactive input from the command line.</span></span>

<span data-ttu-id="ff7f9-135">Wenn der Client das Plug-in mit einer Authentifizierungsanmeldeinformationen erhalten aufruft, müssen die Plug-Ins entsprechen, mit dem Switch Interaktivität und berücksichtigen des Dialogfeld-Schalters.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-135">When the client calls the plugin with a Get Authentication Credentials, the plugins need to conform to the interactivity switch and respect the dialog switch.</span></span> 

<span data-ttu-id="ff7f9-136">Die folgende Tabelle fasst zusammen, wie das Plug-In für alle Kombinationen Verhalten soll.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-136">The following table summarizes how the plugin should behave for all combinations.</span></span>

| <span data-ttu-id="ff7f9-137">IsNonInteractive</span><span class="sxs-lookup"><span data-stu-id="ff7f9-137">IsNonInteractive</span></span> | <span data-ttu-id="ff7f9-138">CanShowDialog</span><span class="sxs-lookup"><span data-stu-id="ff7f9-138">CanShowDialog</span></span> | <span data-ttu-id="ff7f9-139">-Plug-in-Verhalten</span><span class="sxs-lookup"><span data-stu-id="ff7f9-139">Plugin behavior</span></span> |
| ---------------- | ------------- | --------------- |
| <span data-ttu-id="ff7f9-140">true</span><span class="sxs-lookup"><span data-stu-id="ff7f9-140">true</span></span> | <span data-ttu-id="ff7f9-141">true</span><span class="sxs-lookup"><span data-stu-id="ff7f9-141">true</span></span> | <span data-ttu-id="ff7f9-142">Der Schalter IsNonInteractive hat Vorrang vor der Dialogfeld-Schalter.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-142">The IsNonInteractive switch takes precedence over the dialog switch.</span></span> <span data-ttu-id="ff7f9-143">Das Plug-in ist nicht zulässig, um ein Dialogfeld angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-143">The plugin is not allowed to pop a dialog.</span></span> <span data-ttu-id="ff7f9-144">Diese Kombination ist nur gültig für .NET Framework-Plug-Ins</span><span class="sxs-lookup"><span data-stu-id="ff7f9-144">This combination is only valid for .NET Framework plugins</span></span> |
| <span data-ttu-id="ff7f9-145">true</span><span class="sxs-lookup"><span data-stu-id="ff7f9-145">true</span></span> | <span data-ttu-id="ff7f9-146">False</span><span class="sxs-lookup"><span data-stu-id="ff7f9-146">false</span></span> | <span data-ttu-id="ff7f9-147">Der Schalter IsNonInteractive hat Vorrang vor der Dialogfeld-Schalter.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-147">The IsNonInteractive switch takes precedence over the dialog switch.</span></span> <span data-ttu-id="ff7f9-148">Das Plug-in ist nicht zulässig, um zu blockieren.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-148">The plugin is not allowed to block.</span></span> <span data-ttu-id="ff7f9-149">Diese Kombination ist nur gültig für .NET Core-Plug-Ins</span><span class="sxs-lookup"><span data-stu-id="ff7f9-149">This combination is only valid for .NET Core plugins</span></span> |
| <span data-ttu-id="ff7f9-150">False</span><span class="sxs-lookup"><span data-stu-id="ff7f9-150">false</span></span> | <span data-ttu-id="ff7f9-151">true</span><span class="sxs-lookup"><span data-stu-id="ff7f9-151">true</span></span> | <span data-ttu-id="ff7f9-152">Das Plug-in sollte es sich um ein Dialogfeld angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-152">The plugin should show a dialog.</span></span> <span data-ttu-id="ff7f9-153">Diese Kombination ist nur gültig für .NET Framework-Plug-Ins</span><span class="sxs-lookup"><span data-stu-id="ff7f9-153">This combination is only valid for .NET Framework plugins</span></span> |
| <span data-ttu-id="ff7f9-154">False</span><span class="sxs-lookup"><span data-stu-id="ff7f9-154">false</span></span> | <span data-ttu-id="ff7f9-155">False</span><span class="sxs-lookup"><span data-stu-id="ff7f9-155">false</span></span> | <span data-ttu-id="ff7f9-156">Das Plug-in kann/sollte kein Dialogfeld angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-156">The plugin should/can not show a dialog.</span></span> <span data-ttu-id="ff7f9-157">Das Plug-in sollten Geräte Flow authentifizieren, indem Sie die Protokollierung von einer Anweisung Nachricht über die Protokollierung verwenden.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-157">The plugin should use device flow to authenticate by logging an instruction message via the logger.</span></span> <span data-ttu-id="ff7f9-158">Diese Kombination ist nur gültig für .NET Core-Plug-Ins</span><span class="sxs-lookup"><span data-stu-id="ff7f9-158">This combination is only valid for .NET Core plugins</span></span> |

<span data-ttu-id="ff7f9-159">Finden Sie in der folgenden Spezifikationen, vor dem Schreiben eines Plug-Ins.</span><span class="sxs-lookup"><span data-stu-id="ff7f9-159">Please refer to the following specs before writing a plugin.</span></span>

- [<span data-ttu-id="ff7f9-160">NuGet-Paket herunterladen-Plug-in</span><span class="sxs-lookup"><span data-stu-id="ff7f9-160">NuGet Package Download Plugin</span></span>](https://github.com/NuGet/Home/wiki/NuGet-Package-Download-Plugin)
- [<span data-ttu-id="ff7f9-161">NuGet cross-Plat-Authentifizierung-Plug-in</span><span class="sxs-lookup"><span data-stu-id="ff7f9-161">NuGet cross plat authentication plugin</span></span>](https://github.com/NuGet/Home/wiki/NuGet-cross-plat-authentication-plugin)
